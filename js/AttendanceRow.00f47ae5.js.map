{"version":3,"sources":["webpack:///./src/views/Logs/Row.vue?d680","webpack:///src/views/Logs/Row.vue","webpack:///./src/views/Logs/Row.vue?6458","webpack:///./src/views/Logs/Row.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","attendance","name","_f","presence","in","breaks","canTakeABreak","on","updateBreaks","lunch","canTakeLunch","updateLunch","staticClass","canSigningOff","$event","signingOff","staticRenderFns","id","active","components","Breaks","Lunch","props","type","Object","required","default","methods","saveAttendance","$emit","attendanceCopy","out","Date","now","computed","shouldCloseBreak","copyOfBreaks","length","result","lastBreak","component"],"mappings":"wHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,WAAWC,SAASN,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIW,GAAG,gBAAPX,CAAwBA,EAAIS,WAAWG,SAASC,QAAQT,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,OAASN,EAAIS,WAAWK,OAAO,UAAYd,EAAIe,eAAeC,GAAG,CAAC,gBAAgB,SAAUF,GAAU,OAAOd,EAAIiB,aAAaH,EAAQd,EAAIS,iBAAmB,GAAGL,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQN,EAAIS,WAAWS,MAAM,UAAYlB,EAAImB,cAAcH,GAAG,CAAC,eAAe,SAAUE,GAAS,OAAOlB,EAAIoB,YAAYF,EAAOlB,EAAIS,iBAAmB,GAAGL,EAAG,KAAK,CAACA,EAAG,SAAS,CAACiB,YAAY,sBAAsBf,MAAM,CAAC,KAAO,SAAS,UAAYN,EAAIsB,eAAeN,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOvB,EAAIwB,WAAWxB,EAAIS,eAAe,CAACT,EAAIO,GAAG,wBACzyBkB,EAAkB,G,oCC+BtB,GACEC,GAAI,GACJhB,KAAM,GACNI,OAAQ,CACV,CAAI,GAAJ,KAAI,IAAJ,MACA,CAAI,GAAJ,KAAI,IAAJ,OAEEI,MAAO,CAAT,kBACEN,SAAU,CAAZ,kBACEe,QAAQ,GAGV,GACEC,WAAY,CACVC,OAAQ,WAAZ,gDACIC,MAAO,WAAX,gDAEEC,MAAO,CACLtB,WAAY,CACVuB,KAAMC,OACNC,UAAU,EACVC,QAAS,WAAf,YAGEC,QAAS,CACPC,eADJ,SACA,GACMpC,KAAKqC,MAAM,mBAAoB7B,IAEjCe,WAJJ,SAIA,GACM,IAAN,mCACA,GADA,IAEQG,QAAQ,IAEVY,EAAe3B,SAAS4B,IAAMC,KAAKC,MACnCzC,KAAKoC,eAAeE,IAEtBtB,aAZJ,WAYA,4HACA,mCACA,GADA,IAEQH,OAAR,IAGMb,KAAKoC,eAAeE,IAEtBnB,YApBJ,WAoBA,4HACA,mCACA,GADA,IAEQF,MAAR,IAGMjB,KAAKoC,eAAeE,KAGxBI,SAAU,CACRrB,cADJ,WAEM,OAAOrB,KAAKc,gBAAkBd,KAAKkB,cAErCJ,cAJJ,WAKM,OACN,mEAGII,aATJ,WAUM,OAAQlB,KAAK2C,kBAEfA,iBAZJ,WAaM,IAAN,KACA,yCACM,GAAIC,EAAaC,OAAQ,CACvB,IAAR,aACA,OACQC,EAA2B,OAAlBC,EAAUR,IAErB,OAAOO,KCzG+U,I,YCOxVE,EAAY,eACd,EACAlD,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E","file":"js/AttendanceRow.00f47ae5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(_vm.attendance.name))]),_c('th',[_vm._v(_vm._s(_vm._f(\"formatDateStd\")(_vm.attendance.presence.in)))]),_c('th',[_c('Breaks',{attrs:{\"breaks\":_vm.attendance.breaks,\"disabled\":!_vm.canTakeABreak},on:{\"update-breaks\":function (breaks) { return _vm.updateBreaks(breaks, _vm.attendance); }}})],1),_c('th',[_c('Lunch',{attrs:{\"lunch\":_vm.attendance.lunch,\"disabled\":!_vm.canTakeLunch},on:{\"update-lunch\":function (lunch) { return _vm.updateLunch(lunch, _vm.attendance); }}})],1),_c('th',[_c('button',{staticClass:\"btn btn-info btn-sm\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canSigningOff},on:{\"click\":function($event){return _vm.signingOff(_vm.attendance)}}},[_vm._v(\" Signing Off \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <tr>\r\n    <th scope=\"row\">{{ attendance.name }}</th>\r\n    <th>{{ attendance.presence.in | formatDateStd }}</th>\r\n    <th>\r\n      <Breaks\r\n        :breaks=\"attendance.breaks\"\r\n        @update-breaks=\"breaks => updateBreaks(breaks, attendance)\"\r\n        :disabled=\"!canTakeABreak\"\r\n      />\r\n    </th>\r\n    <th>\r\n      <Lunch\r\n        :lunch=\"attendance.lunch\"\r\n        @update-lunch=\"lunch => updateLunch(lunch, attendance)\"\r\n        :disabled=\"!canTakeLunch\"\r\n      />\r\n    </th>\r\n    <th>\r\n      <button\r\n        @click=\"signingOff(attendance)\"\r\n        type=\"button\"\r\n        class=\"btn btn-info btn-sm\"\r\n        :disabled=\"!canSigningOff\"\r\n      >\r\n        Signing Off\r\n      </button>\r\n    </th>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\nconst attendanceDefault = {\r\n  id: \"\",\r\n  name: \"\",\r\n  breaks: [\r\n    { in: null, out: null },\r\n    { in: null, out: null }\r\n  ],\r\n  lunch: { in: null, out: null },\r\n  presence: { in: null, out: null },\r\n  active: true\r\n};\r\n\r\nexport default {\r\n  components: {\r\n    Breaks: () => import(/* webpackChunkName: \"Breaks\" */ \"@v/Logs/Breaks.vue\"),\r\n    Lunch: () => import(/* webpackChunkName: \"Lunch\" */ \"@v/Logs/Lunch.vue\")\r\n  },\r\n  props: {\r\n    attendance: {\r\n      type: Object,\r\n      required: true,\r\n      default: () => attendanceDefault\r\n    }\r\n  },\r\n  methods: {\r\n    saveAttendance(attendance) {\r\n      this.$emit(\"update-atendance\", attendance);\r\n    },\r\n    signingOff(attendance) {\r\n      let attendanceCopy = {\r\n        ...attendance,\r\n        active: false\r\n      };\r\n      attendanceCopy.presence.out = Date.now();\r\n      this.saveAttendance(attendanceCopy);\r\n    },\r\n    updateBreaks(breaks = [], attendance = {}) {\r\n      const attendanceCopy = {\r\n        ...attendance,\r\n        breaks\r\n      };\r\n\r\n      this.saveAttendance(attendanceCopy);\r\n    },\r\n    updateLunch(lunch = {}, attendance = {}) {\r\n      const attendanceCopy = {\r\n        ...attendance,\r\n        lunch\r\n      };\r\n\r\n      this.saveAttendance(attendanceCopy);\r\n    }\r\n  },\r\n  computed: {\r\n    canSigningOff() {\r\n      return this.canTakeABreak === this.canTakeLunch;\r\n    },\r\n    canTakeABreak() {\r\n      return (\r\n        this.attendance.lunch.in === null || this.attendance.lunch.out !== null\r\n      );\r\n    },\r\n    canTakeLunch() {\r\n      return !this.shouldCloseBreak;\r\n    },\r\n    shouldCloseBreak() {\r\n      let result = false;\r\n      const copyOfBreaks = [...this.attendance.breaks];\r\n      if (copyOfBreaks.length) {\r\n        const currentIndex = copyOfBreaks.length - 1;\r\n        const lastBreak = copyOfBreaks[currentIndex];\r\n        result = lastBreak.out === null;\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Row.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Row.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Row.vue?vue&type=template&id=6fc7e44c&\"\nimport script from \"./Row.vue?vue&type=script&lang=js&\"\nexport * from \"./Row.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}